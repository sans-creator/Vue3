<!DOCTYPE html>
<html lang="en">
<head>
    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    <div id="app" class="container">
        <div class="bg-info p-5 rounded m-5 text-center">
            <div class="h2 text-center">Learn Vue- movies</div>
            <hr/>
            <div class="input-group mb-3">
                <span class="input-group-text">Title</span>
                <input type="text" class="form-control" v-model="newMovie.title">
            </div>
            <div class="input-group mb-3">
                <span class="input-group-text">year</span>
                <input type="text" class="form-control" v-model="newMovie.year">
            </div>

            <div class="text-center pb-3">
                <button 
                v-on:click="movies.push(newMovie)"
                class="btn btn-secondary m-2 w-25">Add Movie</button>
                <button 
                v-on:click="movies.pop()"
                class="btn btn-danger m-2 w-25">Remove Movie</button>
            </div>

            <div class="border p-3 w-50 mx-auto">
                <div class="text-center">
                    <h4 class="text-center">Movies List</h4>
                    <hr>
                </div>
                <ul class="list-group">
                    <li v-for="movie in getAllMovieText()" class="list-group-item d-flex justify-content-between align-items-center">
                        {{ movie }}
                    </li>
                </ul>
            </div>
        </div>
    </div>
        
    <script>
    const { createApp, ref, reactive, computed, watch } = Vue;

    

    createApp({
      setup() {
        let movies = reactive([
            { title: "Movie 1", year: 2000 },
            { title: "Movie 2", year: 2001 },
            { title: "Movie 3", year: 2002 }
        ]);

        let newMovie = reactive({
            title: "", year: ""
        });

        function getAllMovieText(){
            return movies.map((movie) => {
                return `${movie.title} - ${movie.year}`
            })

        }

        return { movies, newMovie, getAllMovieText };
      }
    }).mount("#app");
    </script>
    
</body>
</html>
